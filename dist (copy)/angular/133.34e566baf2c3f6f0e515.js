(self.webpackChunkangular=self.webpackChunkangular||[]).push([[133],{8133:(t,e,i)=>{"use strict";i.r(e),i.d(e,{DashboardModule:()=>m});var n=i(1116),r=i(7906),a=i(3179),s=i(7368),c=i(1671),l=i(9425),o=i(1934),u=i(5143),g=i(6535);let d=(()=>{class t{constructor(t,e){this.router=t,this.store=e}ngOnChanges(t){this.article&&(this.articleasync=new Promise((t,e)=>{t(this.article)}))}goEdit(){this.router.navigate(["/admin/edit-article"],{queryParams:{ID:this.article.ID}})}goDelete(){this.store.dispatch(new g.aH(this.article.ID))}goView(){this.router.navigate(["view"],{queryParams:{ID:this.article.ID}})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.F0),s.Y36(c.yh))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-article-item"]],inputs:{article:"article"},features:[s.TTD],decls:22,vars:12,consts:[[1,"card"],[1,"imageurl"],[3,"src"],[3,"click"]],template:function(t,e){if(1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h1"),s._uU(2),s.ALo(3,"async"),s.qZA(),s.TgZ(4,"h1"),s._uU(5),s.ALo(6,"async"),s.qZA(),s.TgZ(7,"div",1),s._UZ(8,"img",2),s.ALo(9,"async"),s.qZA(),s.TgZ(10,"p"),s._uU(11),s.ALo(12,"async"),s.qZA(),s.TgZ(13,"div"),s.TgZ(14,"button",3),s.NdJ("click",function(){return e.goEdit()}),s._uU(15,"edit"),s.qZA(),s.TgZ(16,"button",3),s.NdJ("click",function(){return e.goDelete()}),s._uU(17,"delete"),s.qZA(),s.TgZ(18,"button",3),s.NdJ("click",function(){return e.goView()}),s._uU(19,"view"),s.qZA(),s.TgZ(20,"button"),s._uU(21,"analyze"),s.qZA(),s.qZA(),s.qZA()),2&t){let t,i,n,r;s.xp6(2),s.Oqu(null==(t=s.lcZ(3,4,e.articleasync))?null:t.ID),s.xp6(3),s.Oqu(null==(i=s.lcZ(6,6,e.articleasync))?null:i.Title),s.xp6(3),s.Q6J("src",null==(n=s.lcZ(9,8,e.articleasync))?null:n.ImageURL,s.LSH),s.xp6(3),s.Oqu(null==(r=s.lcZ(12,10,e.articleasync))?null:r.Preview)}},pipes:[n.Ov],styles:[".card[_ngcontent-%COMP%]{padding:5px;margin:10px;border:1px solid #000}.imageurl[_ngcontent-%COMP%]{display:flex;justify-content:center}.imageurl[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),t})();function p(t,e){1&t&&s._UZ(0,"app-article-item",14),2&t&&s.Q6J("article",e.$implicit)}function h(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",10),s.TgZ(1,"h4"),s._uU(2,"article list"),s.qZA(),s.TgZ(3,"div",11),s.YNc(4,p,1,1,"app-article-item",12),s.ALo(5,"async"),s.qZA(),s.TgZ(6,"app-paginator",13),s.NdJ("pageEvent",function(e){return s.CHM(t),s.oxw().onPageEvent(e)}),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.xp6(4),s.Q6J("ngForOf",s.lcZ(5,1,t.articles))}}let Z=(()=>{class t{constructor(t,e,i){this.store=t,this.router=e,this.pagingEvent=i,this.showArticles=!1,this.totalpage=1}ngOnDestroy(){this.authSubs&&this.authSubs.unsubscribe(),this.store.dispatch(new a.Lb),this.store.dispatch(new r.Lb)}ngOnInit(){this.authSubs=this.store.select("auth").subscribe(t=>{t.ID||this.router.navigateByUrl("/admin/login")}),this.store.dispatch(new a.Tf(1))}goLogout(){this.store.dispatch(new r.ti)}getArticles(){this.articleSubs=this.store.select("article").subscribe(t=>{let e=t.Articles,i=t.TotalPage;i&&(this.totalpage=i),e&&(this.articles=new Promise((t,i)=>{t(e)}))}),this.showArticles=!this.showArticles}onPageEvent(t){if(!(t==Number(this.totalpage)+1||t<=this.totalpage))return this.pagingEvent.emitMax(this.totalpage),void this.pagingEvent.emitCurPage(this.totalpage);this.store.dispatch(new a.Tf(t))}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c.yh),s.Y36(l.F0),s.Y36(o.I))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-dashboard"]],decls:24,vars:2,consts:[["id","container"],["id","title"],[1,"btn-group"],[3,"disabled","click"],["routerLink","../draft"],["routerLink","../create-article"],["routerLink","../media","target","_blank"],["routerLink","../settings"],[3,"click"],["id","article-list",4,"ngIf"],["id","article-list"],["id","grid-view"],[3,"article",4,"ngFor","ngForOf"],[3,"pageEvent"],[3,"article"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h1"),s._uU(3,"admin dashboard"),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"h4"),s._uU(6,"actions"),s.qZA(),s.TgZ(7,"button",3),s.NdJ("click",function(){return e.getArticles()}),s._uU(8,"list article"),s.qZA(),s.TgZ(9,"a",4),s.TgZ(10,"button"),s._uU(11,"view all drafts"),s.qZA(),s.qZA(),s.TgZ(12,"a",5),s.TgZ(13,"button"),s._uU(14,"create article"),s.qZA(),s.qZA(),s.TgZ(15,"a",6),s.TgZ(16,"button"),s._uU(17,"manage media"),s.qZA(),s.qZA(),s.TgZ(18,"a",7),s.TgZ(19,"button"),s._uU(20,"settings"),s.qZA(),s.qZA(),s.TgZ(21,"button",8),s.NdJ("click",function(){return e.goLogout()}),s._uU(22,"logout"),s.qZA(),s.qZA(),s.YNc(23,h,7,3,"div",9),s.qZA()),2&t&&(s.xp6(7),s.Q6J("disabled",e.showArticles),s.xp6(16),s.Q6J("ngIf",e.showArticles))},directives:[l.yS,n.O5,n.sg,u.J,d],pipes:[n.Ov],styles:["#title[_ngcontent-%COMP%]{width:100%;background-color:wheat}#grid-view[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr}#article-list[_ngcontent-%COMP%], #btn-group[_ngcontent-%COMP%]{margin-top:25px}#btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin-left:10px}@media only screen and (max-width:900px){#grid-view[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),t})();var A=i(3559);let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,l.Bz.forChild([{path:"",component:Z}]),A.U]]}),t})()}}]);